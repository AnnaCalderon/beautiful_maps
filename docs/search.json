[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Choropleth Maps",
    "section": "",
    "text": "Race and Ethnicity data was pulled via API from the US Census. The data extraction and process can be find here: The Dissimilarity index was calculated using he formula found in this article:\nThe clean data set includes the dissimilarity index for the White population vs Black (d_wb) and the dissimilarity index for the White population vs Hispanic (d_wh).\n\n\n\n\n\n\n\n\n\n## Segregation\n\n\nCode\npal1 &lt;- colorBin(palette = \"Purples\", \n                 domain = sf_state_segregation$d_wb, bins = 5, na.color = \"#808080\")\npal2 &lt;-colorBin(palette = \"Blues\",\n                domain = sf_state_segregation$d_wh, bins = 5, na.color = \"#808080\")\n# pal3 &lt;- colorBin(palette = \"Reds\", \n#                  domain = sf_state_segregation$e_b, bins = 5, na.color = \"#808080\")\n\n#bins = seq(round(min, 2), round(max, 2), sep)\n\nsf_state_segregation |&gt; \n  leaflet() %&gt;% \n  addProviderTiles(\"CartoDB.Positron\") |&gt; \n  addResetMapButton() %&gt;% \n  #fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) |&gt; \n  setView(-93.28260584606623,\n          39.29656858589331, zoom = 4) |&gt; \n  addPolygons(\n    group=\"White vs Black\",\n    color = ~pal1(d_wb),\n    weight = 1,  # border thickness\n    opacity = 1, # border opacity\n    fillOpacity = 0.8,\n    highlightOptions = highlightOptions(fillColor =\"white\",\n                                        bringToFront = TRUE),\n    label=~paste0(state, \": \", round(d_wb, 3)),\n    labelOptions = labelOptions(style = list(\"font-size\" = \"12px\"))\n    ) |&gt;\n  addPolygons(\n    group=\"White vs Hispanic\", \n    color = ~pal2(d_wh),\n    weight = 1,  # border thickness\n    opacity = 1, # border opacity\n    fillOpacity = 0.8,\n    highlightOptions = highlightOptions(fillColor =\"white\",\n                                        bringToFront = TRUE),\n    label=~paste0(state, \": \", round(d_wh, 2)),\n    labelOptions = labelOptions(style = list(\"font-size\" = \"12px\"))) |&gt; \n    addLegend(\"bottomright\", pal = pal2, values = ~sf_state_segregation$d_wh,\n    title = \"Dissiminarity Index\",\n    opacity = 1, group=\"White vs Hispanic\", bins = 5) |&gt; \n  \n  addLegend(\"bottomright\", pal = pal1, values = ~sf_state_segregation$d_wb,\n    title = \"Dissiminarity Index\",\n    opacity = 1, group=\"White vs Black\", bins = 5) |&gt;\n  \n\n  \n  addLayersControl(baseGroups = c(\n                                  \"White vs Black\", \n                                  \"White vs Hispanic\"),\n                   position=\"bottomleft\",\n                   options = layersControlOptions(collapsed = F))"
  },
  {
    "objectID": "index.html#data",
    "href": "index.html#data",
    "title": "Choropleth Maps",
    "section": "",
    "text": "Race and Ethnicity data was pulled via API from the US Census. The data extraction and process can be find here: The Dissimilarity index was calculated using he formula found in this article:\nThe clean data set includes the dissimilarity index for the White population vs Black (d_wb) and the dissimilarity index for the White population vs Hispanic (d_wh).\n\n\n\n\n\n\n\n\n\n## Segregation\n\n\nCode\npal1 &lt;- colorBin(palette = \"Purples\", \n                 domain = sf_state_segregation$d_wb, bins = 5, na.color = \"#808080\")\npal2 &lt;-colorBin(palette = \"Blues\",\n                domain = sf_state_segregation$d_wh, bins = 5, na.color = \"#808080\")\n# pal3 &lt;- colorBin(palette = \"Reds\", \n#                  domain = sf_state_segregation$e_b, bins = 5, na.color = \"#808080\")\n\n#bins = seq(round(min, 2), round(max, 2), sep)\n\nsf_state_segregation |&gt; \n  leaflet() %&gt;% \n  addProviderTiles(\"CartoDB.Positron\") |&gt; \n  addResetMapButton() %&gt;% \n  #fitBounds(bbox[1], bbox[2], bbox[3], bbox[4]) |&gt; \n  setView(-93.28260584606623,\n          39.29656858589331, zoom = 4) |&gt; \n  addPolygons(\n    group=\"White vs Black\",\n    color = ~pal1(d_wb),\n    weight = 1,  # border thickness\n    opacity = 1, # border opacity\n    fillOpacity = 0.8,\n    highlightOptions = highlightOptions(fillColor =\"white\",\n                                        bringToFront = TRUE),\n    label=~paste0(state, \": \", round(d_wb, 3)),\n    labelOptions = labelOptions(style = list(\"font-size\" = \"12px\"))\n    ) |&gt;\n  addPolygons(\n    group=\"White vs Hispanic\", \n    color = ~pal2(d_wh),\n    weight = 1,  # border thickness\n    opacity = 1, # border opacity\n    fillOpacity = 0.8,\n    highlightOptions = highlightOptions(fillColor =\"white\",\n                                        bringToFront = TRUE),\n    label=~paste0(state, \": \", round(d_wh, 2)),\n    labelOptions = labelOptions(style = list(\"font-size\" = \"12px\"))) |&gt; \n    addLegend(\"bottomright\", pal = pal2, values = ~sf_state_segregation$d_wh,\n    title = \"Dissiminarity Index\",\n    opacity = 1, group=\"White vs Hispanic\", bins = 5) |&gt; \n  \n  addLegend(\"bottomright\", pal = pal1, values = ~sf_state_segregation$d_wb,\n    title = \"Dissiminarity Index\",\n    opacity = 1, group=\"White vs Black\", bins = 5) |&gt;\n  \n\n  \n  addLayersControl(baseGroups = c(\n                                  \"White vs Black\", \n                                  \"White vs Hispanic\"),\n                   position=\"bottomleft\",\n                   options = layersControlOptions(collapsed = F))"
  },
  {
    "objectID": "index.html#income-inequality-gini-index",
    "href": "index.html#income-inequality-gini-index",
    "title": "Choropleth Maps",
    "section": "Income Inequality (Gini Index)",
    "text": "Income Inequality (Gini Index)\n\n\n\n\n\n\n\n\n\n   \n\nSources:\n\n- U.S. Census Bureau, American county Survey 5-Year Data (2015-2019). Retrieved from https://www.census.gov/data/developers/data-sets/acs-5year.html;\n\n\n- Kyle Walker and Matt Herman (2022). tidycensus: Load US Census Boundary and Attribute Data as ‘tidyverse’ and ‘sf’-Ready Data Frames. R package version 1.2.2. https://CRAN.R-project.org/package=tidycensus;\n\n\n- Kyle Walker (2022). tigris: Load Census TIGER/Line Shapefiles. R package version 1.6.1. https://CRAN.R-project.org/package=tigris."
  },
  {
    "objectID": "data_cleaning.html",
    "href": "data_cleaning.html",
    "title": "Data Cleaning",
    "section": "",
    "text": "library(tidycensus)\nlibrary(tigris)\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(readxl)\nlibrary(tm)\nlibrary(sf)\noptions(scipen = 999)"
  },
  {
    "objectID": "data_cleaning.html#getting-data-via-the-us-census-api",
    "href": "data_cleaning.html#getting-data-via-the-us-census-api",
    "title": "Data Cleaning",
    "section": "Getting data via the US Census API",
    "text": "Getting data via the US Census API\nI already saved my Census API key in my .Renviron.\n\n# Variables of interest: Total, White, Black, Asian, Hispanic\n\nvars &lt;- c(\n##### TOTAL POP\n  \"B03002_001\", \n  \n##### RACE & ETHNICITY\n  \"B03002_003\", \n  \"B03002_004\",\n  \"B03002_006\", \n  \"B03002_012\"\n)\n\n#### LARGE AREA\nsf_states &lt;- get_acs(\n  geography = \"state\", \n  variables = vars, \n  year = 2019,\n  output = \"wide\", \n  geometry = TRUE) |&gt;\n  select(\n    state = GEOID, \n    name = NAME, \n    totalpop_state = B03002_001E,\n    nhw = B03002_003E, \n    nhb = B03002_004E, \n    nhasian = B03002_006E, \n    hispanic = B03002_012E\n    )\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |======================================================================| 100%\n\n#### SMALL AREA\ndf_tracts1 &lt;- get_acs(\n  geography = \"tract\", \n  variables = vars, \n  year = 2019,\n  output = \"wide\", \n  state = sf_states$name\n)\ndf_tracts &lt;- transmute(\n  df_tracts1,\n  state = substr(GEOID, 1, 2), tract = GEOID, name = NAME,\n  totalpop_tract = B03002_001E, nhw = B03002_003E, nhb = B03002_004E,\n  nhasian = B03002_006E, hispanic = B03002_012E\n) |&gt;\n  select(-name) \n\n### JOINED ZCTAS AND counties\ndf_joined_data &lt;-\n  inner_join(df_tracts, sf_states, by = \"state\", suffix = c(\"_tract\", \"_state\"))\n\nCounty level data for Florida\n\ngini_state_data &lt;- get_acs(\n  geography = \"state\", \n  variables = c(\n    \"B19083_001\"), \n  year = 2019,\n  output = \"wide\", \n  geometry = TRUE) |&gt;\n  select(\n    state = GEOID, \n    name = NAME, \n    incom_ineq_gini = B19083_001E\n    )\n\ngini_county_data &lt;- get_acs(\n  geography = \"county\",\n  variables= c(\n    incom_ineq_gini = \"B19083_001\"),\n  year=2019,\n  #output=\"tidy\",\n  output = \"wide\",\n  geometry = TRUE) |&gt; \n  mutate(state = gsub(\".*, \", \"\", NAME)) |&gt; \n  mutate(NAME = gsub(\" County.*\", \"\", NAME)) |&gt; \n  filter(state == \"Florida\") |&gt;\n  select(\n    state, name = NAME, incom_ineq_gini = incom_ineq_giniE\n  )\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |=============================================================         |  86%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |======================================================================| 100%"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]